
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../security/">
      
      
        <link rel="next" href="../lab-1-function_calling/">
      
      
      <link rel="icon" href="../media/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Getting Started - Build your code-first agent with Azure AI Foundry</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Build your code-first agent with Azure AI Foundry" class="md-header__button md-logo" aria-label="Build your code-first agent with Azure AI Foundry" data-md-component="logo">
      
  <img src="../media/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Build your code-first agent with Azure AI Foundry
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2c-1.82 0-3.53.5-5 1.35C8 5.08 10 8.3 10 12s-2 6.92-5 8.65C6.47 21.5 8.18 22 10 22a10 10 0 0 0 10-10A10 10 0 0 0 10 2"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Build your code-first agent with Azure AI Foundry" class="md-nav__button md-logo" aria-label="Build your code-first agent with Azure AI Foundry" data-md-component="logo">
      
  <img src="../media/favicon.png" alt="logo">

    </a>
    Build your code-first agent with Azure AI Foundry
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solution Architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Considerations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#microsoft-build-attendees" class="md-nav__link">
    <span class="md-ellipsis">
      Microsoft Build Attendees
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-workshop-programming-language" class="md-nav__link">
    <span class="md-ellipsis">
      Select Workshop Programming Language
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authenticate-with-azure" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticate with Azure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-the-workshop" class="md-nav__link">
    <span class="md-ellipsis">
      Open the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-connection-string" class="md-nav__link">
    <span class="md-ellipsis">
      Project Connection String
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-workshop" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-workshop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure_1" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pro-tips" class="md-nav__link">
    <span class="md-ellipsis">
      Pro Tips
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-guided-learners" class="md-nav__link">
    <span class="md-ellipsis">
      Self-Guided Learners
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-workshop-programming-language_1" class="md-nav__link">
    <span class="md-ellipsis">
      Select Workshop Programming Language
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-the-workshop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Open the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authenticate-with-azure_1" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticate with Azure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-the-azure-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy the Azure Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selecting-the-language-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting the Language Workspace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure_2" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure_3" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-1-function_calling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 1 Function Calling Power
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-2-file_search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 2 Grounding with Documents
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-3-code_interpreter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 3 Intro to the Code Interpreter
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-4-bing_search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 4 Grounding with Bing Search
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-5-multilingual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 5 Multilingual Visualizations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../finishing-up/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 6 Finishing Up
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Summary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#microsoft-build-attendees" class="md-nav__link">
    <span class="md-ellipsis">
      Microsoft Build Attendees
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-workshop-programming-language" class="md-nav__link">
    <span class="md-ellipsis">
      Select Workshop Programming Language
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authenticate-with-azure" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticate with Azure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-the-workshop" class="md-nav__link">
    <span class="md-ellipsis">
      Open the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-connection-string" class="md-nav__link">
    <span class="md-ellipsis">
      Project Connection String
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-workshop" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-workshop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure_1" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pro-tips" class="md-nav__link">
    <span class="md-ellipsis">
      Pro Tips
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-guided-learners" class="md-nav__link">
    <span class="md-ellipsis">
      Self-Guided Learners
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-workshop-programming-language_1" class="md-nav__link">
    <span class="md-ellipsis">
      Select Workshop Programming Language
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-the-workshop_1" class="md-nav__link">
    <span class="md-ellipsis">
      Open the Workshop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authenticate-with-azure_1" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticate with Azure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-the-azure-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy the Azure Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selecting-the-language-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting the Language Workspace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure_2" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure_3" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h1>
<p>Select your workshop experience:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">@Build Workshop</label><label for="__tabbed_1_2">Self-Guided Learners</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<h2 id="microsoft-build-attendees">Microsoft Build Attendees<a class="headerlink" href="#microsoft-build-attendees" title="Permanent link">&para;</a></h2>
<p>The instructions on this page assume you are attending <a href="https://build.microsoft.com/" target="_blank">Microsoft Build 2025</a> and have access to a pre-configured lab environment. This environment provides an Azure subscription with all the tools and resources needed to complete the workshop.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>This workshop is designed to teach you about the Azure AI Agents Service and the associated <a href="https://learn.microsoft.com/python/api/overview/azure/ai-projects-readme?context=%2Fazure%2Fai-services%2Fagents%2Fcontext%2Fcontext" target="_blank">SDK</a>. It consists of multiple labs, each highlighting a specific feature of the Azure AI Agents Service. The labs are meant to be completed in order, as each one builds on the knowledge and work from the previous lab.</p>
<h2 id="select-workshop-programming-language">Select Workshop Programming Language<a class="headerlink" href="#select-workshop-programming-language" title="Permanent link">&para;</a></h2>
<p>The workshop is available in both Python and C#. Please make sure to select the language that fits the lab room you are in, by using the language selector tabs. Note, don't switch languages mid-lab.</p>
<p><strong>Select the language tab that matches your lab room:</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Python</label><label for="__tabbed_2_2">C#</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The default language for the workshop is set to <strong>Python</strong>.</p>
</div>
<div class="tabbed-block">
<p>The default language for the workshop is set to <strong>C#</strong>.</p>
</div>
</div>
</div>
<h2 id="authenticate-with-azure">Authenticate with Azure<a class="headerlink" href="#authenticate-with-azure" title="Permanent link">&para;</a></h2>
<p>You need to authenticate with Azure so the agent app can access the Azure AI Agents Service and models. Follow these steps:</p>
<ol>
<li>
<p>Open a terminal window. The terminal app is <strong>pinned</strong> to the Windows 11 taskbar.</p>
<p><a class="glightbox" href="../media/windows-taskbar.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Open the terminal window" src="../media/windows-taskbar.png" width="300" /></a></p>
</li>
<li>
<p>Run the following command to authenticate with Azure:</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">login</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You'll be prompted to open a browser link and log in to your Azure account.</p>
<ol>
<li>
<p>A browser window will open automatically, select <strong>Work or school account</strong> and click <strong>Next</strong>.</p>
</li>
<li>
<p>Use the <strong>Username</strong> and <strong>Password</strong> found in the <strong>top section</strong> of the <strong>Resources</strong> tab in the lab environment.</p>
</li>
<li>
<p>Select <strong>OK</strong>, then <strong>Done</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Then select the <strong>Default</strong> subscription from the command line, by clicking on <strong>Enter</strong>.</p>
</li>
<li>
<p>Once you've logged in, run the following command to assign the <strong>user</strong> role to the resource group:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$subId</span> <span class="p">=</span> <span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="p">-</span><span class="n">-output</span> <span class="n">tsv</span><span class="p">)</span> <span class="p">`</span>
<span class="p">;</span><span class="nv">$objectId</span> <span class="p">=</span> <span class="p">$(</span><span class="n">az</span> <span class="n">ad</span> <span class="n">signed-in-user</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span> <span class="p">`</span>
<span class="p">;</span> <span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;f6c7c914-8db3-469d-8ca1-694a8f32e121&quot;</span> <span class="p">-</span><span class="n">-assignee-object-id</span> <span class="nv">$objectId</span> <span class="p">-</span><span class="n">-scope</span> <span class="p">/</span><span class="n">subscriptions</span><span class="p">/</span><span class="nv">$subId</span><span class="p">/</span><span class="n">resourceGroups</span><span class="p">/</span><span class="s2">&quot;rg-agent-workshop&quot;</span> <span class="p">-</span><span class="n">-assignee-principal-type</span> <span class="s1">&#39;User&#39;</span>
</code></pre></div>
</li>
<li>
<p>Leave the terminal window open for the next steps.</p>
</li>
</ol>
<h2 id="open-the-workshop">Open the Workshop<a class="headerlink" href="#open-the-workshop" title="Permanent link">&para;</a></h2>
<p>Follow these steps to open the workshop in Visual Studio Code:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Python</label><label for="__tabbed_3_2">C#</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ol>
<li>
<p>From the terminal window, execute the following commands to clone the workshop repository, navigate to the relevant folder, set up a virtual environment, activate it, and install the required packages:</p>
<div class="highlight"><pre><span></span><code><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">microsoft</span><span class="p">/</span><span class="n">build-your-first-agent-with-azure-ai-agent-service-workshop</span><span class="p">.</span><span class="n">git</span> <span class="p">`</span>
<span class="p">;</span> <span class="nb">cd </span><span class="n">build-your-first-agent-with-azure-ai-agent-service-workshop</span> <span class="p">`</span>
<span class="p">;</span> <span class="n">python</span> <span class="n">-m</span> <span class="n">venv</span> <span class="n">src</span><span class="p">/</span><span class="n">python</span><span class="p">/</span><span class="n">workshop</span><span class="p">/.</span><span class="n">venv</span> <span class="p">`</span>
<span class="p">;</span> <span class="n">src</span><span class="p">\</span><span class="n">python</span><span class="p">\</span><span class="n">workshop</span><span class="p">\.</span><span class="n">venv</span><span class="p">\</span><span class="n">Scripts</span><span class="p">\</span><span class="n">activate</span> <span class="p">`</span>
<span class="p">;</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">-r</span> <span class="n">src</span><span class="p">/</span><span class="n">python</span><span class="p">/</span><span class="n">workshop</span><span class="p">/</span><span class="n">requirements</span><span class="p">.</span><span class="n">txt</span> <span class="p">`</span>
<span class="p">;</span> <span class="n">code</span> <span class="p">-</span><span class="n">-install-extension</span> <span class="n">tomoki1207</span><span class="p">.</span><span class="n">pdf</span>
</code></pre></div>
</li>
<li>
<p>Open in VS Code. From the terminal window, run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="n">code</span> <span class="p">.</span><span class="n">vscode</span><span class="p">\</span><span class="n">python-workspace</span><span class="p">.</span><span class="n">code-workspace</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">When the project opens in VS Code, two notifications appear in the bottom right corner. Click ✖ to close both notifications.</p>
</div>
</li>
</ol>
</div>
<div class="tabbed-block">
<ol>
<li>From a terminal window, execute the following commands to clone the workshop repository:
    <div class="highlight"><pre><span></span><code><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">microsoft</span><span class="p">/</span><span class="n">build-your-first-agent-with-azure-ai-agent-service-workshop</span><span class="p">.</span><span class="n">git</span>
</code></pre></div></li>
</ol>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">VS Code</label><label for="__tabbed_4_2">Visual Studio 2022</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ol>
<li>
<p>Open the workshop in Visual Studio Code. From the terminal window, run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="n">code</span> <span class="n">build-your-first-agent-with-azure-ai-agent-service-workshop</span><span class="p">\.</span><span class="n">vscode</span><span class="p">\</span><span class="n">csharp-workspace</span><span class="p">.</span><span class="n">code-workspace</span>
</code></pre></div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">When the project opens in VS Code, a notification will appear in the bottom right corner to install the C# extension. Click <strong>Install</strong> to install the C# extension, as this will provide the necessary features for C# development.</p>
</div>
</div>
<div class="tabbed-block">
<ol>
<li>
<p>Open the workshop in Visual Studio 2022. From the terminal window, run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="nb">start </span><span class="n">build-your-first-agent-with-azure-ai-agent-service-workshop</span><span class="p">\</span><span class="n">src</span><span class="p">\</span><span class="n">csharp</span><span class="p">\</span><span class="n">workshop</span><span class="p">\</span><span class="n">AgentWorkshop</span><span class="p">.</span><span class="n">sln</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">You may be asked what program to open the solution with. Select <strong>Visual Studio 2022</strong>.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<h2 id="project-connection-string">Project Connection String<a class="headerlink" href="#project-connection-string" title="Permanent link">&para;</a></h2>
<p>Next, we log in to Azure AI Foundry to retrieve the project connection string, which the agent app uses to connect to the Azure AI Agents Service.</p>
<ol>
<li>Navigate to the <a href="https://ai.azure.com" target="_blank">Azure AI Foundry</a> website.</li>
<li>Select <strong>Sign in</strong> and use the <strong>Username</strong> and <strong>Password</strong> found in the <strong>top section</strong> of the <strong>Resources</strong> tab in the lab environment. Click on the <strong>Username</strong> and <strong>Password</strong> fields to automatically fill in the login details.
    <a class="glightbox" href="../media/azure-credentials.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Azure credentials" src="../media/azure-credentials.png" width="500" /></a></li>
<li>Read the introduction to the Azure AI Foundry and click <strong>Got it</strong>.</li>
<li>Navigate to <a href="https://ai.azure.com/AllResources" target="_blank">All Resources</a> to view the list of AI resources that have been pre-provisioned for you.</li>
<li>
<p>Select the resource name that starts with <strong>aip-</strong> of type <strong>Project</strong>.</p>
<p><a class="glightbox" href="../media/ai-foundry-project.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Select project" src="../media/ai-foundry-project.png" width="500" /></a></p>
</li>
<li>
<p>Review the introduction guide and click <strong>Close</strong>.</p>
</li>
<li>
<p>Locate the <strong>Project details</strong> section, click the <strong>Copy</strong> icon to copy the <strong>Project connection string</strong>.</p>
<p><a class="glightbox" href="../media/project-connection-string.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Copy connection string" src="../media/project-connection-string.png" width="500" /></a></p>
</li>
</ol>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Python</label><label for="__tabbed_5_2">C#</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<h2 id="configure-the-workshop">Configure the Workshop<a class="headerlink" href="#configure-the-workshop" title="Permanent link">&para;</a></h2>
<ol>
<li>Switch back to the workshop you opened in VS Code.</li>
<li>
<p><strong>Rename</strong> the <code>.env.sample</code> file to <code>.env</code>.</p>
<ul>
<li>Select the <strong>.env.sample</strong> file in the VS Code <strong>Explorer</strong> panel.</li>
<li>Right-click the file and select <strong>Rename</strong>, or press <kbd>F2</kbd>.</li>
<li>Change the file name to <code>.env</code> and press <kbd>Enter</kbd>.</li>
</ul>
</li>
<li>
<p>Paste the <strong>Project connection string</strong> you copied from Azure AI Foundry into the <code>.env</code> file.</p>
<div class="highlight"><pre><span></span><code><span class="n">PROJECT_CONNECTION_STRING</span><span class="o">=</span><span class="s2">&quot;&lt;your_project_connection_string&gt;&quot;</span>
</code></pre></div>
<p>Your <code>.env</code> file should look similar to this but with your project connection string.</p>
<div class="highlight"><pre><span></span><code><span class="n">MODEL_DEPLOYMENT_NAME</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span>
<span class="n">BING_CONNECTION_NAME</span><span class="o">=</span><span class="s2">&quot;groundingwithbingsearch&quot;</span>
<span class="n">PROJECT_CONNECTION_STRING</span><span class="o">=</span><span class="s2">&quot;&lt;your_project_connection_string&gt;&quot;</span>
</code></pre></div>
</li>
<li>
<p>Save the <code>.env</code> file.</p>
</li>
</ol>
<h2 id="project-structure">Project Structure<a class="headerlink" href="#project-structure" title="Permanent link">&para;</a></h2>
<p>Be sure to familiarize yourself with the key <strong>subfolders</strong> and <strong>files</strong> you’ll be working with throughout the workshop.</p>
<ol>
<li>The <strong>main.py</strong> file: The entry point for the app, containing its main logic.</li>
<li>The <strong>sales_data.py</strong> file: The function logic to execute dynamic SQL queries against the SQLite database.</li>
<li>The <strong>stream_event_handler.py</strong> file: Contains the event handler logic for token streaming.</li>
<li>The <strong>shared/files</strong> folder: Contains the files created by the agent app.</li>
<li>The <strong>shared/instructions</strong> folder: Contains the instructions passed to the LLM.</li>
</ol>
<p><a class="glightbox" href="../media/project-structure-self-guided-python.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Lab folder structure" src="../media/project-structure-self-guided-python.png" /></a></p>
</div>
<div class="tabbed-block">
<h2 id="configure-the-workshop_1">Configure the Workshop<a class="headerlink" href="#configure-the-workshop_1" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Open a terminal and navigate to the <strong>src/csharp/workshop/AgentWorkshop.Client</strong> folder.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd </span><span class="n">build-your-first-agent-with-azure-ai-agent-service-workshop</span><span class="p">\</span><span class="n">src</span><span class="p">\</span><span class="n">csharp</span><span class="p">\</span><span class="n">workshop</span><span class="p">\</span><span class="n">AgentWorkshop</span><span class="p">.</span><span class="n">Client</span>
</code></pre></div>
</li>
<li>
<p>Add the <strong>Project connection string</strong> you copied from Azure AI Foundry to the user secrets.</p>
<div class="highlight"><pre><span></span><code><span class="n">dotnet</span> <span class="n">user-secrets</span> <span class="nb">set </span><span class="s2">&quot;ConnectionStrings:AiAgentService&quot;</span> <span class="s2">&quot;&lt;your_project_connection_string&gt;&quot;</span>
</code></pre></div>
</li>
<li>
<p>Add the <strong>Model deployment name</strong> to the user secrets.</p>
<div class="highlight"><pre><span></span><code><span class="n">dotnet</span> <span class="n">user-secrets</span> <span class="nb">set </span><span class="s2">&quot;Azure:ModelName&quot;</span> <span class="s2">&quot;gpt-4o&quot;</span>
</code></pre></div>
</li>
</ol>
<h2 id="project-structure_1">Project Structure<a class="headerlink" href="#project-structure_1" title="Permanent link">&para;</a></h2>
<p>Be sure to familiarize yourself with the key <strong>subfolders</strong> and <strong>files</strong> you’ll be working with throughout the workshop.</p>
<h3 id="the-workshop-folder">The workshop folder<a class="headerlink" href="#the-workshop-folder" title="Permanent link">&para;</a></h3>
<ul>
<li>The <strong>Lab1.cs, Lab2.cs, Lab3.cs</strong> files: The entry point for each lab, containing its agent logic.</li>
<li>The <strong>Program.cs</strong> file: The entry point for the app, containing its main logic.</li>
<li>The <strong>SalesData.cs</strong> file: The function logic to execute dynamic SQL queries against the SQLite database.</li>
</ul>
<h3 id="the-shared-folder">The shared folder<a class="headerlink" href="#the-shared-folder" title="Permanent link">&para;</a></h3>
<ul>
<li>The <strong>files</strong> folder: Contains the files created by the agent app.</li>
<li>The <strong>fonts</strong> folder: Contains the multilingual fonts used by Code Interpreter.</li>
<li>The <strong>instructions</strong> folder: Contains the instructions passed to the LLM.</li>
</ul>
<p><a class="glightbox" href="../media/project-structure-self-guided-csharp.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Lab folder structure" src="../media/project-structure-self-guided-csharp.png" /></a></p>
</div>
</div>
</div>
<h2 id="pro-tips">Pro Tips<a class="headerlink" href="#pro-tips" title="Permanent link">&para;</a></h2>
<div class="admonition tips">
<p class="admonition-title">Tips</p>
<ol>
<li>The <strong>Burger Menu</strong> in the right-hand panel of the lab environment offers additional features, including the <strong>Split Window View</strong> and the option to end the lab. The <strong>Split Window View</strong> allows you to maximize the lab environment to full screen, optimizing screen space. The lab's <strong>Instructions</strong> and <strong>Resources</strong> panel will open in a separate window.</li>
<li>If the lab instructions are slow to scroll in the lab environment, try copying the instructions’ URL and opening it in <strong>your computer’s local browser</strong> for a smoother experience.</li>
<li>If you have trouble viewing an image, simply <strong>click the image to enlarge it</strong>.</li>
</ol>
</div>
</div>
<div class="tabbed-block">
<h2 id="self-guided-learners">Self-Guided Learners<a class="headerlink" href="#self-guided-learners" title="Permanent link">&para;</a></h2>
<p>These instructions are for self-guided learners who do not have access to a pre-configured lab environment. Follow these steps to set up your environment and begin the workshop.</p>
<h2 id="introduction_1">Introduction<a class="headerlink" href="#introduction_1" title="Permanent link">&para;</a></h2>
<p>This workshop is designed to teach you about the Azure AI Agents Service and the associated SDK. It consists of multiple labs, each highlighting a specific feature of the Azure AI Agents Service. The labs are meant to be completed in order, as each one builds on the knowledge and work from the previous lab.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ol>
<li>Access to an Azure subscription. If you don't have an Azure subscription, create a <a href="https://azure.microsoft.com/free/" target="_blank">free account</a> before you begin.</li>
<li>You need a GitHub account. If you don’t have one, create it at <a href="https://github.com/join" target="_blank">GitHub</a>.</li>
</ol>
<h2 id="select-workshop-programming-language_1">Select Workshop Programming Language<a class="headerlink" href="#select-workshop-programming-language_1" title="Permanent link">&para;</a></h2>
<p>The workshop is available in both Python and C#. Use the language selector tabs to choose your preferred language wherever applicable. Note, don't switch languages mid-lab.</p>
<p><strong>Select the tab for your preferred language:</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Python</label><label for="__tabbed_6_2">C#</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The default language for the workshop is set to <strong>Python</strong>.</p>
</div>
<div class="tabbed-block">
<p>The default language for the workshop is set to <strong>C#</strong>.</p>
</div>
</div>
</div>
<h2 id="open-the-workshop_1">Open the Workshop<a class="headerlink" href="#open-the-workshop_1" title="Permanent link">&para;</a></h2>
<p>The preferred way to run this workshop is using GitHub Codespaces. This option provides a pre-configured environment with all the tools and resources needed to complete the workshop. Alternatively, you can open the workshop locally using a Visual Studio Code Dev Container.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">GitHub Codespaces</label><label for="__tabbed_7_2">VS Code Dev Container</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Select <strong>Open in GitHub Codespaces</strong> to open the project in GitHub Codespaces.</p>
<p><a href="https://codespaces.new/microsoft/build-your-first-agent-with-azure-ai-agent-service-workshop" target="_blank"><img alt="Open in GitHub Codespaces" src="https://github.com/codespaces/badge.svg" /></a></p>
<div class="admonition warning">
<p class="admonition-title">Building the Codespace will take several minutes. You can continue reading the instructions while it builds.</p>
</div>
</div>
<div class="tabbed-block">
<div class="admonition warning">
<p class="admonition-title">Apple Silicon Users</p>
<p>The automated deployment script you’ll be running soon isn’t supported on Apple Silicon. Please run the deployment script from Codespaces or from macOS instead of the Dev Container.</p>
</div>
<p>Alternatively, you can open the project locally using a Visual Studio Code Dev Container, which will open the project in your local VS Code development environment using the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" target="_blank">Dev Containers extension</a>.</p>
<ol>
<li>Start Docker Desktop (install it if not already installed)</li>
<li>
<p>Select <strong>Dev Containers Open</strong> to open the project in a VS Code Dev Container.</p>
<p><a href="https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/microsoft/build-your-first-agent-with-azure-ai-agent-service-workshop"><img alt="Open in Dev Containers" src="https://img.shields.io/static/v1?style=for-the-badge&amp;label=Dev%20Containers&amp;message=Open&amp;color=blue&amp;logo=visualstudiocode" /></a></p>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">The process of building the Dev Container, which involves downloading and setting it up on your local system, will take several minutes. During this time, you can continue reading the instructions.</p>
</div>
</div>
</div>
</div>
<h2 id="authenticate-with-azure_1">Authenticate with Azure<a class="headerlink" href="#authenticate-with-azure_1" title="Permanent link">&para;</a></h2>
<p>You need to authenticate with Azure so the agent app can access the Azure AI Agents Service and models. Follow these steps:</p>
<ol>
<li>Ensure the Codespace has been created.</li>
<li>In the Codespace, open a new terminal window by selecting <strong>Terminal</strong> &gt; <strong>New Terminal</strong> from the <strong>VS Code menu</strong>.</li>
<li>
<p>Run the following command to authenticate with Azure:</p>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>login<span class="w"> </span>--use-device-code
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You'll be prompted to open a browser link and log in to your Azure account. Be sure to copy the authentication code first.</p>
<ol>
<li>A browser window will open automatically, select your account type and click <strong>Next</strong>.</li>
<li>Sign in with your Azure subscription <strong>Username</strong> and <strong>Password</strong>.</li>
<li><strong>Paste</strong> the authentication code.</li>
<li>Select <strong>OK</strong>, then <strong>Done</strong>.</li>
</ol>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you have multiple Azure tenants, then you will need to select the appropriate tenant when authenticating.</p>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>login<span class="w"> </span>--use-device-code<span class="w"> </span>--tenant<span class="w"> </span>&lt;tenant_id&gt;
</code></pre></div>
</div>
</li>
<li>
<p>Next, select the appropriate subscription from the command line.</p>
</li>
<li>Leave the terminal window open for the next steps.</li>
</ol>
<h2 id="deploy-the-azure-resources">Deploy the Azure Resources<a class="headerlink" href="#deploy-the-azure-resources" title="Permanent link">&para;</a></h2>
<p>The following resources will be created in the <code>rg-contoso-agent-workshop</code> resource group in your Azure subscription.</p>
<ul>
<li>An <strong>Azure AI Foundry hub</strong> named <strong>agent-wksp</strong></li>
<li>An <strong>Azure AI Foundry project</strong> named <strong>Agent Service Workshop</strong></li>
<li>A <strong>Serverless (pay-as-you-go) GPT-4o model deployment</strong> named <strong>gpt-4o (Global 2024-08-06)</strong>. See pricing details <a href="https://azure.microsoft.com/pricing/details/cognitive-services/openai-service/" target="_blank">here</a>.</li>
<li>A <strong>Grounding with Bing Search</strong> resource. See the <a href="https://learn.microsoft.com/azure/ai-services/agents/how-to/tools/bing-grounding">documentation</a> and <a href="https://www.microsoft.com/en-us/bing/apis/grounding-pricing" target="_blank">pricing</a> for details.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">You will need 140K TPM quota availability for the gpt-4o Global Standard SKU, not because the agent uses lots of tokens, but due to the frequency of calls made by the agent to the model. Review your quota availability in the <a href="https://ai.azure.com/managementCenter/quota" target="_blank">AI Foundry Management Center</a>.</p>
</div>
<p>We have provided a bash script to automate the deployment of the resources required for the workshop. Alternatively, you may deploy resources manually using Azure AI Foundry studio. Select the desired tab.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Automated deployment</label><label for="__tabbed_8_2">Manual deployment</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The script <code>deploy.sh</code> deploys to the <code>eastus2</code> region by default; edit the file to change the region or resource names. To run the script, open the VS Code terminal and run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>infra<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>./deploy.sh
</code></pre></div>
<h3 id="workshop-configuration">Workshop Configuration<a class="headerlink" href="#workshop-configuration" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Python</label><label for="__tabbed_9_2">C#</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The deploy script generates the <strong>.env</strong> file, which contains the project connection string, model deployment name, and Bing connection name.</p>
<p>Your <strong>.env</strong> file should look similar to this but with your project connection string.</p>
<div class="highlight"><pre><span></span><code><span class="n">MODEL_DEPLOYMENT_NAME</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span>
<span class="n">BING_CONNECTION_NAME</span><span class="o">=</span><span class="s2">&quot;groundingwithbingsearch&quot;</span>
<span class="n">PROJECT_CONNECTION_STRING</span><span class="o">=</span><span class="s2">&quot;&lt;your_project_connection_string&gt;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>The automated deployment script stores project variables securely by using the Secret Manager feature for <a href="https://learn.microsoft.com/aspnet/core/security/app-secrets" target="_blank">safe storage of app secrets in development in ASP.NET Core</a>.</p>
<p>You can view the secrets by running the following command:</p>
<div class="highlight"><pre><span></span><code>dotnet<span class="w"> </span>user-secrets<span class="w"> </span>list
</code></pre></div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>Alternatively, if you prefer not to use the <code>deploy.sh</code> script you can deploy the resources manually using the Azure AI Foundry portal as follows:</p>
<ol>
<li>Navigate to the <a href="https://ai.azure.com" target="_blank">Azure AI Foundry</a> web portal using your browser and sign in with your account.</li>
<li>
<p>Select <strong>+ Create project</strong>.</p>
<ul>
<li>
<p>Name the project</p>
<div class="highlight"><pre><span></span><code>agent-workshop
</code></pre></div>
</li>
<li>
<p>Create a new hub named</p>
<div class="highlight"><pre><span></span><code>agent-workshop-hub
</code></pre></div>
</li>
<li>
<p>Select <strong>Create</strong> and wait for the project to be created.</p>
</li>
</ul>
</li>
<li>
<p>From <strong>My assets</strong>, select <strong>Models + endpoints</strong>.</p>
</li>
<li>
<p>Select <strong>Deploy Model / Deploy Base Model</strong>.</p>
<ul>
<li>Select <strong>gpt-4o</strong> from the model list, then select <strong>Confirm</strong>.</li>
<li>
<p>Name the deployment</p>
<div class="highlight"><pre><span></span><code>gpt-4o
</code></pre></div>
</li>
<li>
<p>Deployment type: Select <strong>Global Standard</strong>.</p>
</li>
<li>Select <strong>Customize</strong>.</li>
<li>Model version: Select <strong>2024-08-06</strong>.</li>
<li>Tokens Per Minute Rate Limit: Select <strong>140k</strong>.</li>
<li>Select <strong>Deploy</strong>.</li>
</ul>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A specific version of GPT-4o may be required depending on your the region where you deployed your project.
See <a href="https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models?tabs=global-standard%2Cstandard-chat-completions#assistants-preview" target="_blank">Models: Assistants (Preview)</a> for details.</p>
</div>
<h3 id="workshop-configuration_1">Workshop Configuration<a class="headerlink" href="#workshop-configuration_1" title="Permanent link">&para;</a></h3>
<p>You'll need the project connection string to connect the agent app to the Azure AI Foundry project. You can find this string in the Azure AI Foundry portal in the Overview page for your Project <code>agent-workshop</code> (look in the Project details section).</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Python</label><label for="__tabbed_10_2">C#</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Create the workshop configuration file with the following command:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>src/python/workshop/.env.sample<span class="w"> </span>src/python/workshop/.env
</code></pre></div>
<p>Then edit the file <code>src/python/workshop/.env</code> to provide the Project Connection String.</p>
</div>
<div class="tabbed-block">
<ol>
<li>Open a new terminal window in VS Code.</li>
<li>
<p>Run the following command to set the C# project path $CSHARP_PROJECT_PATH variable:</p>
<div class="highlight"><pre><span></span><code><span class="nv">CSHARP_PROJECT_PATH</span><span class="o">=</span><span class="s2">&quot;src/csharp/workshop/AgentWorkshop.Client/AgentWorkshop.Client.csproj&quot;</span>
</code></pre></div>
</li>
<li>
<p>Run the following command to set the <a href="https://learn.microsoft.com/aspnet/core/security/app-secrets" target="_blank">ASP.NET Core safe secret</a> for the project connection string:</p>
<div class="admonition warning">
<p class="admonition-title">Replace <code>&lt;your_project_connection_string&gt;</code> with the actual connection string</p>
</div>
<div class="highlight"><pre><span></span><code>dotnet<span class="w"> </span>user-secrets<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="s2">&quot;ConnectionStrings:AiAgentService&quot;</span><span class="w"> </span><span class="s2">&quot;&lt;your_project_connection_string&gt;&quot;</span><span class="w"> </span>--project<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$CSHARP_PROJECT_PATH</span><span class="s2">&quot;</span>
</code></pre></div>
</li>
<li>
<p>Run the following command to set the <a href="https://learn.microsoft.com/aspnet/core/security/app-secrets" target="_blank">ASP.NET Core safe secret</a> for the model deployment name:</p>
<div class="highlight"><pre><span></span><code>dotnet<span class="w"> </span>user-secrets<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="s2">&quot;Azure:ModelName&quot;</span><span class="w"> </span><span class="s2">&quot;gpt-4o&quot;</span><span class="w"> </span>--project<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$CSHARP_PROJECT_PATH</span><span class="s2">&quot;</span>
</code></pre></div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<h2 id="selecting-the-language-workspace">Selecting the Language Workspace<a class="headerlink" href="#selecting-the-language-workspace" title="Permanent link">&para;</a></h2>
<p>There are two workspaces in the workshop, one for Python and one for C#. The workspace contains the source code and all the files needed to complete the labs for each language. Choose the workspace that matches the language you want to work with.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Python</label><label for="__tabbed_11_2">C#</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ol>
<li>In Visual Studio Code, go to <strong>File</strong> &gt; <strong>Open Workspace from File</strong>.</li>
<li>
<p>Replace the default path with the following:
    <div class="highlight"><pre><span></span><code>/workspaces/build-your-first-agent-with-azure-ai-agent-service-workshop/.vscode/
</code></pre></div></p>
</li>
<li>
<p>Choose the file named <strong>python-workspace.code-workspace</strong> to open the workspace.</p>
</li>
</ol>
<h2 id="project-structure_2">Project Structure<a class="headerlink" href="#project-structure_2" title="Permanent link">&para;</a></h2>
<p>Be sure to familiarize yourself with the key <strong>folders</strong> and <strong>files</strong> you’ll be working with throughout the workshop.</p>
<h3 id="the-workshop-folder_1">The workshop folder<a class="headerlink" href="#the-workshop-folder_1" title="Permanent link">&para;</a></h3>
<ul>
<li>The <strong>main.py</strong> file: The entry point for the app, containing its main logic.</li>
<li>The <strong>sales_data.py</strong> file: The function logic to execute dynamic SQL queries against the SQLite database.</li>
<li>The <strong>stream_event_handler.py</strong> file: Contains the event handler logic for token streaming.</li>
</ul>
<h3 id="the-shared-folder_1">The shared folder<a class="headerlink" href="#the-shared-folder_1" title="Permanent link">&para;</a></h3>
<ul>
<li>The <strong>files</strong> folder: Contains the files created by the agent app.</li>
<li>The <strong>fonts</strong> folder: Contains the multilingual fonts used by Code Interpreter.</li>
<li>The <strong>instructions</strong> folder: Contains the instructions passed to the LLM.</li>
</ul>
<p><a class="glightbox" href="../media/project-structure-self-guided-python.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Lab folder structure" src="../media/project-structure-self-guided-python.png" /></a></p>
</div>
<div class="tabbed-block">
<ol>
<li>In Visual Studio Code, go to <strong>File</strong> &gt; <strong>Open Workspace from File</strong>.</li>
<li>
<p>Replace the default path with the following:
    <div class="highlight"><pre><span></span><code>/workspaces/build-your-first-agent-with-azure-ai-agent-service-workshop/.vscode/
</code></pre></div></p>
</li>
<li>
<p>Choose the file named <strong>csharp-workspace.code-workspace</strong> to open the workspace.</p>
</li>
</ol>
<h2 id="project-structure_3">Project Structure<a class="headerlink" href="#project-structure_3" title="Permanent link">&para;</a></h2>
<p>Be sure to familiarize yourself with the key <strong>folders</strong> and <strong>files</strong> you’ll be working with throughout the workshop.</p>
<h3 id="the-workshop-folder_2">The workshop folder<a class="headerlink" href="#the-workshop-folder_2" title="Permanent link">&para;</a></h3>
<ul>
<li>The <strong>Lab1.cs, Lab2.cs, Lab3.cs</strong> files: The entry point for each lab, containing its agent logic.</li>
<li>The <strong>Program.cs</strong> file: The entry point for the app, containing its main logic.</li>
<li>The <strong>SalesData.cs</strong> file: The function logic to execute dynamic SQL queries against the SQLite database.</li>
</ul>
<h3 id="the-shared-folder_2">The shared folder<a class="headerlink" href="#the-shared-folder_2" title="Permanent link">&para;</a></h3>
<ul>
<li>The <strong>files</strong> folder: Contains the files created by the agent app.</li>
<li>The <strong>fonts</strong> folder: Contains the multilingual fonts used by Code Interpreter.</li>
<li>The <strong>instructions</strong> folder: Contains the instructions passed to the LLM.</li>
</ul>
<p><a class="glightbox" href="../media/project-structure-self-guided-csharp.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Lab folder structure" src="../media/project-structure-self-guided-csharp.png" /></a></p>
</div>
</div>
</div>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../security/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Security Considerations">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Security Considerations
              </div>
            </div>
          </a>
        
        
          
          <a href="../lab-1-function_calling/" class="md-footer__link md-footer__link--next" aria-label="Next: Lab 1 Function Calling Power">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Lab 1 Function Calling Power
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.footer", "content.code.copy", "navigation.tabs.sticky", "content.tabs.link"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../js/custom-nav.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>